Index: graphics.c
===================================================================
--- graphics.c  (revision 57206)
+++ graphics.c  (working copy)
@@ -2819,6 +2819,7 @@
     ReleaseDC(hwnd, hdc);
 }

+#if CORE_6659_IS_FIXED
 static void test_string_functions(void)
 {
     GpStatus status;
@@ -3138,6 +3139,7 @@

     ReleaseDC(hwnd, hdc);
 }
+#endif /* CORE_6659_IS_FIXED */

 static void test_get_set_interpolation(void)
 {
@@ -3361,7 +3363,9 @@
     test_clear();
     test_textcontrast();
     test_fromMemoryBitmap();
+#if CORE_6659_IS_FIXED
     test_string_functions();
+#endif
     test_get_set_interpolation();
     test_get_set_textrenderinghint();
     test_getdc_scaled();

Index: font.c
===================================================================
--- font.c      (revision 57206)
+++ font.c      (working copy)
@@ -485,6 +485,7 @@
     GdipDeleteFontFamily(fontfamily);
 }

+#if CORE_6660_IS_FIXED
 static int CALLBACK font_enum_proc(const LOGFONTW *lfe, const TEXTMETRICW *ntme,
                                    DWORD type, LPARAM lparam)
 {
@@ -721,6 +722,7 @@
     GdipDeleteGraphics(graphics);
     DeleteDC(hdc);
 }
+#endif // CORE_6660_IS_FIXED

 START_TEST(font)
 {
@@ -734,7 +736,9 @@

     GdiplusStartup(&gdiplusToken, &gdiplusStartupInput, NULL);

+#if CORE_6660_IS_FIXED
     test_font_metrics();
+#endif
     test_createfont();
     test_logfont();
     test_fontfamily();
