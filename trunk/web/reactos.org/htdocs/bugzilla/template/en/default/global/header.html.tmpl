[%# 1.0@bugzilla.org %]
[%# Based on mozilla.org template/en/default/global/footer.html.tmpl
  # Adjusted for roscms by Ge van Geldorp <gvg@reactos.org>
  #
  # The contents of this file are subject to the Mozilla Public
  # License Version 1.1 (the "License"); you may not use this file
  # except in compliance with the License. You may obtain a copy of
  # the License at http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS
  # IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
  # implied. See the License for the specific language governing
  # rights and limitations under the License.
  #
  # The Original Code is the Bugzilla Bug Tracking System.
  #
  # The Initial Developer of the Original Code is Netscape Communications
  # Corporation. Portions created by Netscape are
  # Copyright (C) 1998 Netscape Communications Corporation. All
  # Rights Reserved.
  #
  # Contributor(s): Gervase Markham <gerv@gerv.net>
  #                 Vaskin Kissoyan <vkissoyan@yahoo.com>
  #                 Vitaly Harisov <vitaly@rathedg.com>
  #                 Svetlana Harisova <light@rathedg.com>
  #%]

[%# INTERFACE:
  # (All the below interface elements are optional.)
  # title: string. Page title.
  # h1: string. Main page header.
  # h2: string. Page subheader.
  # h3: string. Right-aligned subheader.
  # bodyclasses: array of extra CSS classes for the <body>
  # onload: string. JavaScript code to run when the page finishes loading.
  # javascript: string. Javascript to go in the header.
  # javascript_urls: list. List of URLs to Javascript.
  # style: string. CSS style.
  # style_urls: list. List of URLs to CSS style sheets.
  # message: string. A message to display to the user. May contain HTML.
  # atomlink: Atom link url, May contain HTML
  #%]

[% IF message %]
  [% PROCESS global/messages.html.tmpl %]
[% END %]

[% DEFAULT
  h2 = ""
  h3 = ""
  onload = ""
%]

[%# We should be able to set the default value of the h1 variable
  # to the value of the title variable using the DEFAULT directive,
  # but that doesn't work if a caller sets h1 to the empty string
  # to avoid h1 inheriting the value of title, since DEFAULT
  # mistakenly treats empty strings as undefined and gives h1 the
  # value of title anyway.  To get around that problem we explicitly
  # set h1's default value here only if it is undefined. %]
[% IF !h1.defined %][% h1 = title %][% END %]

<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                      "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
  <head>
    <title>ReactOS Homepage - [% title FILTER html %]</title>

[%# Migration note: contents of the old Param 'headerhtml' would go here %]

    [% PROCESS "global/site-navigation.html.tmpl" %]

    [% IF javascript %]
      <script type="text/javascript">
        [% javascript %]
      </script>
    [% END %]
    
    [% IF javascript_urls %]
      [% FOREACH javascript_url = javascript_urls %]
        <script src="[% javascript_url FILTER html %]" type="text/javascript"></script>
      [% END %]
    [% END %]

    [%+ INCLUDE "global/help-header.html.tmpl" %]

    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link href="/style.css" type="text/css" rel="stylesheet">

    [% IF style %]
      <style type="text/css">
        [% style %]
      </style>
    [% END %]

    [% IF style_urls %]
      [% FOREACH style_url = style_urls %]
        <link href="[% style_url FILTER html %]" rel="stylesheet" type="text/css">
        [% IF style_url.match('^skins/standard/') %]
          <link href="[% style_url.replace('^skins/standard/', 'skins/custom/')
                         FILTER html %]" rel="stylesheet" type="text/css">
        [% END %]
      [% END %]
    [% END %]

    [%# this puts the live bookmark up on firefox for the Atom feed %]
    [% IF atomlink %]
       <link rel="alternate" 
             type="application/atom+xml" title="Atom feed" 
             href="[% atomlink FILTER html %]" />
    [% END %]

  </head>

[%# Migration note: contents of the old Param 'bodyhtml' go in the body tag,
  # but set the onload attribute in the DEFAULT directive above.
  #%]

  <body onload="[% onload %]"
        class="[% Param('urlbase').replace('^https?://','').replace('/$','').replace('[-~@:/.]+','-') %]
               [% FOREACH class = bodyclasses %]
                 [% ' ' %][% class FILTER css_class_quote %]
               [% END %]">

<div id="top">
  <div id="topMenu"> 
    <!-- 
       Use <p> to align things for links/lynx, then in the css make it
	   margin: 0; and use text-align: left/right/etc;.
   -->
	<p align="center"> 
		<a href="/?page=index">Home</a> <font color="#ffffff">|</font> 
		<a href="/?page=about">Info</a> <font color="#ffffff">|</font> 
		<a href="/?page=community">Community</a> <font color="#ffffff">|</font> 
		<a href="/?page=dev">Development</a> <font color="#ffffff">|</font> 
		<a href="/roscms/?page=user">myReactOS</a> </p>
	 </div>
	</div>

<table style="border:0" width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
  <td style="width:147px" id="leftNav"> 
  <div class="navTitle">Navigation</div>
    <ol>
      <li><a href="/?page=index">Home</a></li>
      <li><a href="/?page=about">Info</a></li>
      <li><a href="/?page=community">Community</a></li>
      <li><a href="/?page=dev">Development</a></li>
      <li><a href="/roscms/?page=user">myReactOS</a></li>
    </ol>
  <p></p>
			
<div class="navTitle">Bugzilla</div>
      <ol>
        <li><a href="/bugzilla">Main Page</a></li>
        <li><a href="/bugzilla/enter_bug.cgi">New</a></li>
        <li><a href="/bugzilla/query.cgi">Search</a></li>
        <li><a href="/bugzilla/report.cgi">Reports</a></li>
        <li><a href="/bugzilla/request.cgi">Requests</a></li>
      </ol>
      <p></p>

[%# TODO we don't support switching languages yet
<div class="navTitle">Language</div>   
      <ol>
        <li> 
          <div align="center"> 
            <select id="select" size="1" name="select" class="selectbox" onchange="window.open(this.options[this.selectedIndex].value,'_main')">
              <optgroup label="current language"> 
              <option value="#" selected="selected">English</option>
              </optgroup>
              <optgroup label="most popular"> 
              <option value="http://www.reactos.org/./[#inc_path_lang]../en/developer.htm">English</option>
              <option value="http://www.reactos.org/./[#inc_path_lang]../de/developer.htm">Deutsch</option>
              <option value="http://www.reactos.org/./[#inc_path_lang]../fr/developer.htm">Fran√ßais</option>
              </optgroup>
              <optgroup label="other languages"> 
              <option value="#">&lt;placeholder&gt;</option>
              </optgroup>
            </select>
          </div>
        </li>
      </ol>
      <p></p>
%]

<div class="navTitle">Account</div>
      <ol>
        [% IF user %]
        <li><a href="/roscms/?page=logout">Logout [% user.name %]</a></li>
        [% ELSE %]
        <li><a href="/roscms/?page=login&amp;target=%2Fbugzilla">Login</a></li>
        [% END %]
        <li><a href="/roscms/?page=register&amp;target=%2Fbugzilla">Register</a></li>
      </ol>
      <p></p>
												
[%# TODO Haven't found a way to get the latest update info
<div class="navTitle">Latest Update</div>   
      <ol>
        <li><div align="center">2005-08-21 15:16<br>$ test: rev.1 $</div></li>
      </ol>      
      <p> </p>
%]
      </td>

<td id="bugzillaContent">
<div class="contentSmall">
[% INCLUDE global/banner.html.tmpl %]
<span class="contentSmallTitle">ReactOS bug tracking and reporting - [% h1 %]</span>

[%# Migration note: the following file corresponds to the old Param
  # 'bannerhtml'
  #%]

<div id="header">
  [% IF h2 %]
    <h2>[% h2 %]</h2>
  [% END %]

  [% IF h3 %]
    <h3>[% h3 %]</h3>
  [% END %]
</div>

[% IF message %]
<div id="message">[% message %]</div>
[% END %]
