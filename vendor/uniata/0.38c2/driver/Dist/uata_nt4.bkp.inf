; Copyright (c) 2002-2004 UniATA group

[version]
Signature="$WINDOWS NT$"
Class=SCSIAdapter
ClassGuid={4D36E97B-E325-11CE-BFC1-08002BE10318}
Provider=%ALTERWARE%
DriverVer=07/04/2004
CatalogFile=uniata.cat


[SourceDisksNames]
1 = "UniATA Installation disk",,,

[SourceDisksFiles]
uniata.sys = 1
uniata2k.inf = 1

;Class Install
[ClassInstall32.NT]
AddReg=HDC_Class

[HDC_Class]
HKR,,,,%HDCClassName%
HKR,,Icon,,"-9"
HKR,,Installer32,,"SysSetup.Dll,HdcClassInstaller"

[DestinationDirs]
DefaultDestDir = 12 ; DIRID_DRIVERS

[Manufacturer]
%ALTERWARE%=UNIATA_HDC

[UNIATA_HDC]
%DeviceDesc%=uniata_Inst

[DISABLE_PCIIDE]
HKLM, system\currentcontrolset\services\pciide, "Start", %REG_DWORD%, 0x00000004

[uniata_Inst]
AddReg = RegUninstall,DISABLE_PCIIDE
CopyFiles = @uniata.sys

[uniata_Inst.Services]
AddService = UniATA, %SPSVCINST_ASSOCSERVICE%, uniata_Service_Inst

[uniata_Service_Inst]
ServiceType    = %SERVICE_KERNEL_DRIVER%
StartType      = %SERVICE_BOOT_START%
ErrorControl   = %SERVICE_ERROR_NORMAL%
ServiceBinary  = %12%\uniata.sys
LoadOrderGroup = System Bus Extender

[uniata_Inst.PosDup]            ;; BUGBUG: What does this do?
*PNP0600

[Strings]
HDCClassName            = "SCSI and RAID controllers"
ALTERWARE="AlterWare"
DeviceDesc="Universal ATA Driver"

;*******************************************
;Handy macro substitutions (non-localizable)
SPSVCINST_ASSOCSERVICE = 0x00000002
SERVICE_KERNEL_DRIVER  = 1
SERVICE_BOOT_START     = 0
SERVICE_ERROR_NORMAL   = 1
REG_EXPAND_SZ          = 0x00020000
REG_DWORD              = 0x00010001
REG_MULTI_SZ           = 0x00010000

