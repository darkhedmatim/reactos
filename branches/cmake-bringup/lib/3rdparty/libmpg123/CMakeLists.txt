add_definitions(-DOPT_I386)
add_definitions(-DREAL_IS_FLOAT)
add_definitions(-DNOXFERMEM)
add_definitions(-DHAVE_CONFIG_H)
add_definitions(-DEOVERFLOW=75)
add_definitions(-Dlseek=_lseek)
add_definitions(-Dread=_read)
add_definitions(-Dstrdup=_strdup)

include_directories(${REACTOS_SOURCE_DIR}/include/reactos/libs/libmpg123)

add_library(libmpg123
    compat.c
    dct64.c
    dct64_i386.c
    equalizer.c
    feature.c
    format.c
    frame.c
    icy.c
    icy2utf8.c
    id3.c
    index.c
    layer1.c
    layer2.c
    layer3.c
    libmpg123.c
    ntom.c
    optimize.c
    parse.c
    readers.c
    stringbuf.c
    synth.c
    synth_8bit.c
    synth_real.c
    synth_s32.c
    tabinit.c)
